<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../../assets/css/reset.css">
    <link rel="stylesheet" href="../../assets/css/dashboard/navbar.css">
    <link rel="stylesheet" href="../../assets/css/dashboard/indexDash.css">
    <link rel="stylesheet" href="../../assets/css/dashboard/dashboard.css">
    
    <title>Airplane Solutions</title>
</head>
<body>

    <dialog>
        <div class="divSelecionarTotem">
            <h3>Selecionar Totem</h3>
            <div class="divSearch"> 
                <img src="../../assets/SVG/icons/search.svg">
                <input type="text" placeholder="Encontrar máquina...">
            </div>

            <div class="divTable">
                <table>
                    <tr>
                        <td></td>
                        <td class="tdFirst">Máquina</td>
                        <td class="tdFirst">Tokem</td>
                    </tr>
                    <tr>
                        <td>
                            <input type="radio" name="radio[]" onclick="selectRow()">
                        </td>
                        <td class="tdDefault">Totem 02</td>
                        <td class="tdDefault">A002</td>
                    </tr>
                    <tr>
                        <td>
                            <input type="radio" name="radio[]">
                        </td>
                        <td class="tdDefault">Totem 03</td>
                        <td class="tdDefault">A003</td>
                    </tr>
                </table>
            </div>
            
            <button>Selecionar</button>
        </div>
    </dialog>

    <nav>
        <div class="divLogo">
            <img src="../../assets/SVG/logo.svg">
            <h3>
                <span>Airplane</span> 
                Solutions
            </h3>
        </div>

        <div class="divItems">

            <div class="divNavigationItems">
                <div class="divItem itemNavigation itemSelect">
                    <img src="../../assets/SVG/icons/dashboard.SVG">
                    <span>Dashboard</span>
                </div>
                <div class="divItem itemNavigation" onclick="abrirModal()">
                    <img src="../../assets/SVG/icons/graphic.SVG">
                    <span>Totem</span>
                </div>
                <div class="divItem itemNavigation">
                    <img src="../../assets/SVG/icons/add.SVG">
                    <span>Add Totem</span>
                </div>
                <div class="divItem itemNavigation">
                    <img src="../../assets/SVG/icons/person.SVG">
                    <span>Time</span>
                </div>
            </div>

            <div class="divNavigationUser">
                <div class="divItem itemNavigation">
                    <img src="../../assets/SVG/icons/conversation.svg">
                    <span>Suporte</span>
                </div>
                <div class="divItem itemNavigation">
                    <img src="../../assets/SVG/icons/config.svg">
                    <span>Configuração</span>
                </div>
            </div>

            <div class="divNaviagtionExit">
                <div class="divItem logOut">
                    <img src="../../assets/SVG/icons/exit.svg">
                    <span>Log out</span>
                </div>
            </div>


        </div>
    </nav>

    <div class="divContent">
        <div class="divTop">
            <h2>Olá, Administrador</h2>
        </div>

        <div class="divFirstGroup">
            <div class="divGroupKpi">
                <div class="divKpi">
                    <span class="spTitle">Totens Ativos</span>
                    <h3>
                        <span class="spQuantidade">8</span>
                        unidades
                    </h3>
                </div>
                <div class="divKpi">
                    <span class="spTitle">Totens Ativos</span>
                    <h3>
                        <span class="spQuantidade">8</span>
                        unidades
                    </h3>
                </div>
                <div class="divKpi">
                    <span class="spTitle">Totens Ativos</span>
                    <h3>
                        <span class="spQuantidade">8</span>
                        unidades
                    </h3>
                </div>
            </div>
            <div class="divAtividadeTotem">
                <h3>Estado dos Totens</h3>
                <table class="tableAtividadeTotem">
                    <tr class="trFirstRow">
                        <td>Totem</td>
                        <td>Estado</td>
                        <td>Tempo</td>
                    </tr>
                    <tr>
                        <td>Totem 01</td>
                        <td class="totemInativo">Inativo</td>
                        <td>1h</td>
                    </tr>
                    <tr>
                        <td>Totem 04</td>
                        <td class="totemInativo">Inativo</td>
                        <td>1min</td>
                    </tr>
                    <tr>
                        <td>Totem 02</td>
                        <td class="totemAtivo">Ativo</td>
                        <td>1h</td>
                    </tr>
                    <tr>
                        <td>Totem 03</td>
                        <td class="totemAtivo">Ativo</td>
                        <td>20min</td>
                    </tr>
                </table>
            </div>
        </div>
    
        <div class="divSecondGroup">
            <div class="divGraphic divChartComparacaoCpu">
                <h3>Comparação da CPU por tempo <span>(ativo)</span></h3>

                <div class="divChart">
                    <canvas id="chartCpu"></canvas>
                </div>
            </div>

            <div class="divGraphic divChartArmazenamento">
                <h3>Comparação armazenamento</h3>

                <div class="divChart">
                    <canvas id="chartArmazenamento"></canvas>
                </div>
            </div>
        </div>
    
    </div>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="../../assets/js/dashboard/rotaTotem.js"></script>
<script src="../../assets/js/dashboard/rotaUsuario.js"></script>
<script src="../../assets/js/dashboard/chart.js"></script>

<script>
    
</script>
<script>
    mostrarUsuario();
    buscarTotens();

    const radioButtons = document.querySelectorAll('input[type="radio"]');

    radioButtons.forEach((radioButton) => {
        radioButton.addEventListener('click', () => {
            const tr = radioButton.closest('tr');
            const table = tr.closest('table');
            table.querySelectorAll('tr').forEach((row) => {
            if (row !== tr) {
                row.classList.remove('selected');
            }
            });
            tr.classList.add('selected');
        });
    });


    
    function abrirModal() {
        const modal = document.querySelector("dialog");
        modal.showModal();
    }
</script>